/*! For license information please see RectangleGeometryLibrary-4fb2ed6b.js.LICENSE.txt */
define(["exports","./Matrix2-21f90abf","./defaultValue-4607806f","./RuntimeError-cef79f54","./Transforms-c450597e","./ComponentDatatype-4028c72d"],(function(t,n,a,e,o,r){"use strict";const s=Math.cos,i=Math.sin,c=Math.sqrt,g={computePosition:function(t,n,e,o,r,g,u){const h=n.radiiSquared,l=t.nwCorner,C=t.boundingRectangle;let S=l.latitude-t.granYCos*o+r*t.granXSin;const w=s(S),M=i(S),f=h.z*M;let m=l.longitude+o*t.granYSin+r*t.granXCos;const X=w*s(m),Y=w*i(m),p=h.x*X,x=h.y*Y,R=c(p*X+x*Y+f*M);if(g.x=p/R,g.y=x/R,g.z=f/R,e){const n=t.stNwCorner;a.defined(n)?(S=n.latitude-t.stGranYCos*o+r*t.stGranXSin,m=n.longitude+o*t.stGranYSin+r*t.stGranXCos,u.x=(m-t.stWest)*t.lonScalar,u.y=(S-t.stSouth)*t.latScalar):(u.x=(m-C.west)*t.lonScalar,u.y=(S-C.south)*t.latScalar)}}},u=new n.Matrix2;let h=new n.Cartesian3;const l=new n.Cartographic;let C=new n.Cartesian3;const S=new o.GeographicProjection;function d(t,a,e,o,r,s,i){const c=Math.cos(a),g=o*c,l=e*c,w=Math.sin(a),M=o*w,f=e*w;h=S.project(t,h),h=n.Cartesian3.subtract(h,C,h);const m=n.Matrix2.fromRotation(a,u);h=n.Matrix2.multiplyByVector(m,h,h),h=n.Cartesian3.add(h,C,h),s-=1,i-=1;const X=(t=S.unproject(h,t)).latitude,Y=X+s*f,p=X-g*i,x=X-g*i+s*f,R=Math.max(X,Y,p,x),G=Math.min(X,Y,p,x),y=t.longitude,O=y+s*l,P=y+i*M,W=y+i*M+s*l;return{north:R,south:G,east:Math.max(y,O,P,W),west:Math.min(y,O,P,W),granYCos:g,granYSin:M,granXCos:l,granXSin:f,nwCorner:t}}g.computeOptions=function(t,a,e,o,s,i,c){let g,u=t.east,h=t.west,w=t.north,M=t.south,f=!1,m=!1;w===r.CesiumMath.PI_OVER_TWO&&(f=!0),M===-r.CesiumMath.PI_OVER_TWO&&(m=!0);const X=w-M;g=h>u?r.CesiumMath.TWO_PI-h+u:u-h;const Y=Math.ceil(g/a)+1,p=Math.ceil(X/a)+1,x=g/(Y-1),R=X/(p-1),G=n.Rectangle.northwest(t,i),y=n.Rectangle.center(t,l);0===e&&0===o||(y.longitude<G.longitude&&(y.longitude+=r.CesiumMath.TWO_PI),C=S.project(y,C));const O=R,P=x,W=n.Rectangle.clone(t,s),_={granYCos:O,granYSin:0,granXCos:P,granXSin:0,nwCorner:G,boundingRectangle:W,width:Y,height:p,northCap:f,southCap:m};if(0!==e){const t=d(G,e,x,R,0,Y,p);w=t.north,M=t.south,u=t.east,h=t.west,_.granYCos=t.granYCos,_.granYSin=t.granYSin,_.granXCos=t.granXCos,_.granXSin=t.granXSin,W.north=w,W.south=M,W.east=u,W.west=h}if(0!==o){e-=o;const t=n.Rectangle.northwest(W,c),a=d(t,e,x,R,0,Y,p);_.stGranYCos=a.granYCos,_.stGranXCos=a.granXCos,_.stGranYSin=a.granYSin,_.stGranXSin=a.granXSin,_.stNwCorner=t,_.stWest=a.west,_.stSouth=a.south}return _},t.RectangleGeometryLibrary=g}));